<div class="map-container" #maprow>
  <div id="map" [ngStyle]="{'height': mapHeight+'px'}"></div>
  <div id="view-buttons" *ngIf="listMenuEnabled && filterMenuEnabled">
    <button (click)="filterMenuHidden = !filterMenuHidden" [ngClass]="{'active': !filterMenuHidden}"><span class="oi oi-beaker"></span></button>
    <button (click)="listHidden = !listHidden" [ngClass]="{'active': !listHidden}"><span class="oi oi-list"></span></button>
  </div>
  <vrs-map-filters *ngIf="filterMenuEnabled"
    [hidden]="filterMenuHidden"
    [municipalities]="municipalities"
    [isLoggedIn]="isLoggedIn"
    (euListChange)="onEuListCheckbox($event)"
    (fiListChange)="onFiListCheckbox($event)"
    (ownModeChange)="onOwnModeChange($event)"
    (plantPestChange)="onPlantPestCheckbox($event)"
    (municipalityChange)="onSelectMunicipality($event)"
    (timeChange)="onTimeChange($event)"
    (taxonChange)="onTaxonChange($event)">
  </vrs-map-filters>
  <div class="right-float-menu" *ngIf="listMenuEnabled" [ngStyle]="listHidden && {'display': 'none'}">
    <vrs-obs-map-list height="700" [ngClass]="{'hidden': isAggregateMap()}"></vrs-obs-map-list>
    <div [ngClass]="{'hidden': !isAggregateMap()}">
      <h5 class="observation-count"><b>{{getObservationCount() | number}}</b> havaintoa.</h5>
      <p>Rajaa hakua nähdäksesi listan tarkoista havainnoista.</p>
    </div>
  </div>
  <a href="https://laji.fi/observation/map?administrativeStatusId=MX.nationallySignificantInvasiveSpecies,MX.nationalInvasiveSpeciesStrategy,MX.otherInvasiveSpeciesList,MX.euInvasiveSpeciesList,MX.quarantinePlantPest" target="_blank" rel="noopener noreferrer" class="laji-link">Tarkastele laji.fi kartalla</a>
</div>
