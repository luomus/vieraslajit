<div class="taxon-browser">
    <div class="options-menu-wrapper" #sidebar>
        <div class="sidebar-toggle" (click)="onToggleSidebar()"><span class="oi oi-arrow-thick-left" #sidebarToggle></span></div>
        <div class="options-menu" #optionsmenu [ngStyle]="{'height': optionsHeight+'px'}">
            <div class="filters-title">
                <h5 translate>taxonomy.filters</h5>
                <a class="clear-settings" (click)="onClearSettings()" tabindex="0" translate>taxonomy.filters.clear</a>
            </div>
<!--         <vrs-informal-group-grid (informalGroupSelection)="onInformalGroupSelection($event)"></vrs-informal-group-grid> -->
<!--             <vrs-group-dropdown [groups]="['MVL.232', 'MVL.27', 'MVL.343', 'MVL.1', 'MVL.28', 'MVL.26', 'MVL.40', 'MVL.2', 'MVL.233', 'MVL.37', 'MVL.39', 'MVL.41']"
            (selected)="onGroupSelected($event)"></vrs-group-dropdown> -->
            <options-accordion header="{{'taxonomy.filters.harmful' | translate}}">
                <div class="checkbox">
                    <input type="checkbox" (change)="onCheckboxChange($event, 'FiList')" id="finnishList" #fiCheckbox>
                    <label for="finnishList" translate>taxonomy.filters.finnishList</label>
                </div>
                <div class="checkbox">
                    <input type="checkbox" (change)="onCheckboxChange($event, 'EuList')" id="euList" #euCheckbox>
                    <label for="euList" translate>taxonomy.filters.euList</label>
                </div>
                <div class="checkbox">
                    <input type="checkbox" (change)="onCheckboxChange($event, 'PlantPests')" id="plantPests" #plantPestsCheckbox>
                    <label for="plantPests" translate>taxonomy.filters.pests</label>
                </div>
            </options-accordion>
            <options-accordion header="{{'taxonomy.filters.iasGroups' | translate}}">
                <div class="checkbox">
                    <input type="checkbox" id="plants" (change)="onInvasiveGroupCheckbox($event, 'HBE.MG2')" #plantsCheckbox>
                    <label for="plants" translate>iasGroupName.plants</label>
                </div>
                <div class="checkbox">
                    <input type="checkbox" id="mammals-and-birds" (change)="onInvasiveGroupCheckbox($event, 'HBE.MG8')" #mammalsCheckbox>
                    <label for="mammals-and-birds" translate>iasGroupName.mammals</label>
                </div>
                <div class="checkbox">
                    <input type="checkbox" id="freshwater-species" (change)="onInvasiveGroupCheckbox($event, 'HBE.MG5')" #freshwaterCheckbox>
                    <label for="freshwater-species" translate>iasGroupName.freshwater</label>
                </div>
                <div class="checkbox">
                    <input type="checkbox" id="baltic-species" (change)="onInvasiveGroupCheckbox($event, 'HBE.MG4')" #balticCheckbox>
                    <label for="baltic-species" translate>iasGroupName.baltic</label>
                </div>
                <div class="checkbox">
                    <input type="checkbox" id="interior-pests" (change)="onInvasiveGroupCheckbox($event, 'HBE.MG9')" #interiorCheckbox>
                    <label for="interior-pests" translate>iasGroupName.interior</label>
                </div>
                <div class="checkbox">
                    <input type="checkbox" id="plant-pests-group" (change)="onInvasiveGroupCheckbox($event, 'HBE.MG13')" #plantPestsGroupCheckbox>
                    <label for="plant-pests-group" translate>iasGroupName.plantPestsGroup</label>
                </div>
            </options-accordion>
        </div>
    </div>
    <div class="browser-content-wrapper">
        <div class="browser-content-menu">
            <div>
                <vrs-select-sort-order *ngIf="viewMode === 'grid'" [current]="getSortOrder()" (sorted)="onChangeSortOrder($event)"></vrs-select-sort-order>
                <div class="total-taxa" *ngIf="viewMode === 'list'">
                    {{'taxonomy.grid.results.1' | translate}} {{total}} {{'taxonomy.grid.results.2' | translate}}
                </div>
            </div>
            <div>
                <div *ngIf="viewMode === 'list'" class="toolbar-btn" (click)="onExport()" (keyup.enter)="onExport()" tabindex="0">
                    {{'taxonomy.export' | translate}}<span class="oi oi-data-transfer-download"></span>
                </div>
                <div class="toolbar-btn" (click)="onSwitchViewMode()" (keyup.enter)="onSwitchViewMode()" tabindex="0">
                    <div *ngIf="viewMode === 'grid'" translate>taxonomy.listMode.list<span class="oi oi-list"></span></div>
                    <div *ngIf="viewMode === 'list'" translate>taxonomy.listMode.grid<span class="oi oi-grid-three-up"></span></div>
                </div>
            </div>
        </div>
        <div class="cards-container" #cardscont [ngStyle]="{'height': maxHeight+'px'}">
            <div *ngIf="viewMode == 'grid'" class="cards-wrapper">
                <vrs-taxon-grid [taxa]="taxa" [total]="total" (scrolled)="onScroll()">
                    <vrs-filter-info [filters]="filterInfo$ | async"></vrs-filter-info>
                </vrs-taxon-grid>
            </div>
            <div *ngIf="viewMode == 'list'" class="cards-wrapper">
                <vrs-taxon-browser-list [taxa]="taxa" (scrolled)="onScroll()"></vrs-taxon-browser-list>
            </div>
        </div>
    </div>
</div>
